{"version":3,"file":"js/728.7a5f34a0.js","mappings":"uKAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,0BAA0BH,EAAG,KAAK,CAACJ,EAAIO,GAAG,qBAAqBH,EAAG,MAAM,CAACE,YAAY,UAAUE,MAAM,CAAC,IAAM,kCAAkC,IAAM,UAAUJ,EAAG,KAAK,CAACJ,EAAIO,GAAG,sBAAsBH,EAAG,OAAO,CAACE,YAAY,OAAOE,MAAM,CAAC,OAAS,KAAK,CAACJ,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAIa,SAAiB,SAAEC,WAAW,sBAAsBR,YAAY,iBAAiBE,MAAM,CAAC,KAAO,OAAO,GAAK,WAAW,YAAc,KAAKO,SAAS,CAAC,MAASf,EAAIa,SAAiB,UAAGG,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,WAAqBnB,EAAIoB,KAAKpB,EAAIa,SAAU,WAAYI,EAAOC,OAAON,WAAWR,EAAG,QAAQ,CAACE,YAAY,iBAAiBE,MAAM,CAAC,IAAM,aAAa,CAACR,EAAIO,GAAG,iBAAiBH,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAIa,SAAiB,SAAEC,WAAW,sBAAsBR,YAAY,iBAAiBE,MAAM,CAAC,KAAO,WAAW,GAAK,WAAW,YAAc,KAAKO,SAAS,CAAC,MAASf,EAAIa,SAAiB,UAAGG,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,WAAqBnB,EAAIoB,KAAKpB,EAAIa,SAAU,WAAYI,EAAOC,OAAON,WAAWR,EAAG,QAAQ,CAACE,YAAY,iBAAiBE,MAAM,CAAC,IAAM,aAAa,CAACR,EAAIO,GAAG,oBAAoBH,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,YAAYE,MAAM,CAAC,KAAO,UAAUQ,GAAG,CAAC,MAAQhB,EAAIqB,QAAQ,CAACjB,EAAG,OAAO,CAACJ,EAAIO,GAAG,eAAeH,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,cAAc,CAACI,MAAM,CAAC,GAAK,cAAc,CAACR,EAAIO,GAAG,6DAA6D,QAC/rDe,EAAkB,G,UC8BtB,GACAZ,KAAAA,QACAa,OACA,OACAV,SAAAA,CACAW,SAAAA,GACAC,SAAAA,IAEAC,SAAAA,KAGAC,UACA,uBACAC,aAAAA,WAAAA,SAEAC,QAAAA,KACA,qDAEAC,SAAAA,GACA,iBACA,uCACA,uCACA,0BACA,SAEAC,EAAAA,CAAA,wBAGAA,EAAAA,CAAA,mBAGA,UAGAV,QACA,sCACA,WACA,kCACA,gBACAO,aAAAA,QAAAA,OAAAA,KAAAA,UAAAA,EAAAA,OACA,eACA,4BAEA,8BAEA,WACA,oEACAI,MAAAA,KAAAA,YACA,YACA,iEACAA,MAAAA,KAAAA,aAIAC,SAAAA,KACA,uDACA,wCCvFiQ,I,UCQ7PC,GAAY,OACd,EACAnC,EACAuB,GACA,EACA,KACA,WACA,MAIF,EAAeY,EAAiB","sources":["webpack://proyecto-final/./src/views/Login.vue?e956","webpack://proyecto-final/src/views/Login.vue","webpack://proyecto-final/./src/views/Login.vue?3c97","webpack://proyecto-final/./src/views/Login.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h1',[_vm._v(\"Proyecto final Vue 2\")]),_c('h2',[_vm._v(\"Andrés Schuster\")]),_c('img',{staticClass:\"portada\",attrs:{\"src\":\"https://i.imgur.com/eLUSUFJ.png\",\"alt\":\"logo\"}}),_c('h2',[_vm._v(\"Inicio de Sesión\")]),_c('form',{staticClass:\"form\",attrs:{\"action\":\"\"}},[_c('div',{staticClass:\"floating-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userForm.username),expression:\"userForm.username\"}],staticClass:\"floating-input\",attrs:{\"type\":\"text\",\"id\":\"username\",\"placeholder\":\" \"},domProps:{\"value\":(_vm.userForm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userForm, \"username\", $event.target.value)}}}),_c('label',{staticClass:\"floating-label\",attrs:{\"for\":\"username\"}},[_vm._v(\"Usuario: \")])]),_c('div',{staticClass:\"floating-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userForm.password),expression:\"userForm.password\"}],staticClass:\"floating-input\",attrs:{\"type\":\"password\",\"id\":\"password\",\"placeholder\":\" \"},domProps:{\"value\":(_vm.userForm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userForm, \"password\", $event.target.value)}}}),_c('label',{staticClass:\"floating-label\",attrs:{\"for\":\"password\"}},[_vm._v(\"Contraseña: \")])]),_c('div',{staticClass:\"row divLogin\"},[_c('button',{staticClass:\"btn-login\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.Login}},[_c('span',[_vm._v(\"Login\")])])]),_c('div',{staticClass:\"row centrado\"},[_c('router-link',{attrs:{\"to\":\"/register\"}},[_vm._v(\"¿No estas registrado? ¡Registrate haciendo click aquí!\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <h1>Proyecto final Vue 2</h1>\r\n    <h2>Andrés Schuster</h2>\r\n        <img src=\"https://i.imgur.com/eLUSUFJ.png\" alt=\"logo\" class=\"portada\"/>\r\n      <h2>Inicio de Sesión</h2>\r\n        <form class=\"form\" action=\"\">\r\n            <div class=\"floating-content\">\r\n                <input type=\"text\" id=\"username\" placeholder=\" \" class=\"floating-input\" v-model=\"userForm.username\"/>\r\n                <label class=\"floating-label\" for=\"username\">Usuario: </label>\r\n            </div>\r\n            <div class=\"floating-content\">\r\n                <input type=\"password\" id=\"password\" placeholder=\" \" class=\"floating-input\" v-model=\"userForm.password\"/>\r\n                <label class=\"floating-label\" for=\"password\">Contraseña: </label>\r\n            </div>\r\n            <div class=\"row divLogin\">\r\n                <button type=\"button\" class=\"btn-login\" @click=\"Login\">\r\n                    <span>Login</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"row centrado\">\r\n                <router-link to=\"/register\">¿No estas registrado? ¡Registrate haciendo click aquí!</router-link>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapState, mapActions, mapGetters } from 'vuex';\r\n\r\nexport default {\r\n    name: 'Login',\r\n    data(){\r\n        return {\r\n            userForm: {\r\n                username: \"\",\r\n                password: \"\",\r\n            },\r\n            msgError: \"\",\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getUsersFromAPI();\r\n        localStorage.removeItem('user');\r\n    },\r\n    methods: {\r\n        ...mapActions(\"users\", [\"getUsersFromAPI\", \"setUserLogged\"]),\r\n\r\n        tryToLog(users) {\r\n            for (const element of users){\r\n                if (element.username == this.userForm.username){\r\n                    if(element.password == this.userForm.password){\r\n                        var result = {'isValid': true, 'user': element};\r\n                        return result;\r\n                    } else {\r\n                        result = {'isValid': false, 'err': -1}\r\n                    }\r\n                } else {\r\n                    result = {'isValid': false, 'err': -2}\r\n                }\r\n            }\r\n            return result;\r\n        },\r\n\r\n        Login(){\r\n            let result = this.tryToLog(this.users.users);\r\n            if (result.isValid){\r\n                this.setUserLogged(result.user);\r\n                delete result.user.password;\r\n                localStorage.setItem('user', JSON.stringify(result.user));\r\n                if(result.user.rol == 99) {\r\n                    this.$router.push('/admin');\r\n                } else {\r\n                    this.$router.push('/index');\r\n                }\r\n            } else if (result.err === -1) {\r\n                this.msgError = \"La contraseña no coincide con el usuario ingresado.\";\r\n                alert(this.msgError);\r\n            } else if (result.err === -2) {\r\n                this.msgError = \"El usuario ingresado no se encuentra registrado.\";\r\n                alert(this.msgError);\r\n            }\r\n        },\r\n    },\r\n    computed: {\r\n        ...mapState([\"users\", [\"users\", \"userLogged\", \"orders\"]]),\r\n        ...mapGetters([\"getUsers\", \"getUserLogged\"]),\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n    @import '../assets/css/forms.scss';\r\n    @import '../assets/css/buttons.scss';\r\n    .container{\r\n        width: 50%;\r\n        padding-top: 100px;\r\n        text-align: center;\r\n    }\r\n    .centrado {\r\n        text-align: center;\r\n    }\r\n\r\n    .portada {\r\n        max-height: 200px;\r\n        max-width: 200px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=3ec3008d&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=3ec3008d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ec3008d\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","directives","name","rawName","value","userForm","expression","domProps","on","$event","target","composing","$set","Login","staticRenderFns","data","username","password","msgError","mounted","localStorage","methods","tryToLog","result","alert","computed","component"],"sourceRoot":""}