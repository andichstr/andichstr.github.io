"use strict";(self["webpackChunkproyecto_final"]=self["webpackChunkproyecto_final"]||[]).push([[608],{7547:function(t,o,a){a.d(o,{Z:function(){return l}});var r=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",[t.desplegado?a("div",{staticClass:"carritoDesplegado"},[a("img",{staticClass:"cerrar",attrs:{src:"https://i.imgur.com/JyKCGKd.png",alt:"Cerrar"},on:{click:function(o){return t.desplegarCarrito()}}}),a("h2",[t._v("Tu carrito")]),0!=t.carrito.length?a("div",[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.carrito,(function(o){return a("tr",{key:o.id},[a("td",{staticClass:"col-2"},[t._v(t._s(o.stock))]),a("td",{staticClass:"col-4"},[t._v(t._s(o.name))]),a("td",{staticClass:"col-4"},[t._v("$ "+t._s(o.price*o.stock))]),a("td",{staticClass:"col-2"},[a("input",{staticClass:"btn btn-danger",attrs:{type:"button",value:"Eliminar"},on:{click:function(a){return t.eliminarProductoCarrito(o)}}})])])})),0)]),a("h4",[t._v("Total: $ "+t._s(t.precioTotal))]),a("div",{staticClass:"finalizarCompraDiv"},[a("button",{staticClass:"finalizarCompraButton",on:{click:function(o){return t.createOrder(t.precioTotal)}}},[t._v("Finalizar Compra")])])]):a("div",[a("h4",[t._v("Tu carrito esta vacío!")])])]):a("div",{staticClass:"carrito"},[0!=t.cantidadTotal?a("span",{staticClass:"cantCarrito"},[t._v(t._s(t.cantidadTotal))]):t._e(),a("img",{staticClass:"imgCarrito",class:{activo:t.isActive},attrs:{src:"https://i.imgur.com/3e91bR7.png",alt:"Logo Carrito"},on:{click:function(o){return t.desplegarCarrito()}}})])])},c=[function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("thead",[a("tr",[a("th",{staticClass:"tituloTabla col-2",attrs:{scope:"col"}},[t._v("Cantidad")]),a("th",{staticClass:"tituloTabla col-4",attrs:{scope:"col"}},[t._v("Descripción")]),a("th",{staticClass:"tituloTabla col-4",attrs:{scope:"col"}},[t._v("Precio")]),a("th",{staticClass:"tituloTabla col-2",attrs:{scope:"col"}},[t._v("Eliminar")])])])}],i=a(3019),s=(a(8862),a(1539),a(4747),a(4665)),n={data:function(){return{desplegado:!1,isActive:!1}},methods:(0,i.Z)((0,i.Z)((0,i.Z)({},(0,s.nv)("products",["getProductsFromAPI","updateStockProduct"])),(0,s.nv)("cart",["deleteCartProduct","createOrderToAPI","updateStockAPI","restartCart","setACart"])),{},{desplegarCarrito:function(){this.desplegado=!this.desplegado,this.active=!this.active},eliminarProductoCarrito:function(t){this.updateStockProduct(t),this.deleteCartProduct(t.id)},createOrder:function(t){var o=this,a=JSON.parse(JSON.stringify(this.carrito));console.log(a),this.createOrderToAPI(t),a.forEach((function(t){o.updateStockAPI(t)})),this.restartCart()}}),computed:(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},(0,s.rn)("cart",["carrito"])),(0,s.rn)("products",["products"])),(0,s.Se)("cart",["getCarrito"])),(0,s.Se)("products",["getProducts"])),{},{cantidadTotal:function(){var t=0;return this.carrito.forEach((function(o){t+=parseInt(o.stock)})),t},precioTotal:function(){var t=0;return this.carrito.forEach((function(o){t+=o.price*o.stock})),t}}),mounted:function(){var t=this,o=JSON.parse(localStorage.getItem("cart"));void 0!=o&&this.setACart(o).then((function(){o.forEach((function(o){t.products.forEach((function(t){console.log(t),o.id==t.id&&(t.stock-=o.stock)}))}))}))}},e=n,u=a(1001),d=(0,u.Z)(e,r,c,!1,null,"77047290",null),l=d.exports},608:function(t,o,a){a.r(o),a.d(o,{default:function(){return h}});var r=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"container"},[a("div",[a("Carrito")],1),a("div",{staticClass:"container"},[a("img",{staticClass:"imgProducto",attrs:{alt:t.actualProduct.name,src:t.actualProduct.img}}),a("h1",[t._v(t._s(t.actualProduct.name))]),a("h4",[t._v(t._s(t.actualProduct.desc))]),a("div",[t._v("Disponibles: "+t._s(t.actualProduct.stock))]),a("div",[t._v("$ "+t._s(t.actualProduct.price))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.contador,expression:"contador"}],attrs:{type:"number"},domProps:{value:t.contador},on:{change:function(o){return t.checkContador()},keyup:function(o){return t.checkContador()},input:function(o){o.target.composing||(t.contador=o.target.value)}}}),a("button",{staticClass:"btn-producto save",attrs:{disabled:!t.botonProductoHabilitado},on:{click:function(o){return t.agregarProductoCarrito()}}},[a("span",[t._v(t._s(t.valorBotonProducto))])])]),a("router-link",{attrs:{to:"/index"}},[a("button",{staticClass:"btn-admin volver"},[a("span",[t._v("Volver")])])])],1)},c=[],i=a(3019),s=a(7547),n=a(4665),e={name:"Producto",components:{Carrito:s.Z},data:function(){return{contador:0,valorBotonProducto:"Agregar",botonProductoHabilitado:!1}},computed:(0,i.Z)((0,i.Z)({},(0,n.rn)("products",["actualProduct"])),(0,n.Se)("products",["getProducts"])),methods:(0,i.Z)((0,i.Z)((0,i.Z)({},(0,n.nv)("products",["getProductsFromAPI","setActualProduct"])),(0,n.nv)("cart",["addProductToCart"])),{},{checkContador:function(){var t=parseInt(this.contador);t>this.actualProduct.stock?this.contador=this.actualProduct.stock:t<0&&(this.contador=0),this.checkStock()},checkStock:function(){var t=parseInt(this.contador);0==this.actualProduct.stock?(this.botonProductoHabilitado=!1,this.valorBotonProducto="Sin stock"):0!=this.actualProduct.stock&&0==t?(this.botonProductoHabilitado=!1,this.valorBotonProducto="Agregar"):(this.botonProductoHabilitado=!0,this.valorBotonProducto="Agregar")},agregarProductoCarrito:function(){var t=(0,i.Z)({},this.actualProduct);t.stock=parseInt(this.contador),this.addProductToCart(t),this.actualProduct.stock-=parseInt(this.contador),this.contador=0,this.checkStock()}}),mounted:function(){this.setActualProduct(this.$route.params.id)}},u=e,d=a(1001),l=(0,d.Z)(u,r,c,!1,null,"3b3135a4",null),h=l.exports}}]);
//# sourceMappingURL=608-legacy.2a48c734.js.map