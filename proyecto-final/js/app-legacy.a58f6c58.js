(function(){"use strict";var t={9039:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var r=n(8935),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},["/"!=this.$route.path&&"/register"!=this.$route.path?n("div",{attrs:{id:"navbar"}},[n("Navbar")],1):t._e(),n("router-view")],1)},c=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[1==t.users.userLogged.rol?n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[n("b-navbar-brand",[n("img",{staticClass:"logo",attrs:{src:"https://i.imgur.com/eLUSUFJ.png",alt:"logo"}})]),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("em",[t._v(t._s(t.users.userLogged.name))])]},proxy:!0}],null,!1,3809713259)},[n("b-dropdown-item",[n("router-link",{attrs:{to:{name:"MisOrdenes",params:{id:t.users.userLogged.id}}}},[n("span",[t._v(" Mis Ordenes ")])])],1),n("b-dropdown-item",{on:{click:function(e){return t.logout()}}},[t._v("Logout")])],1)],1)],1)],1):t._e(),99==t.users.userLogged.rol?n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[n("b-navbar-brand",{attrs:{href:"#"}},[n("img",{staticClass:"logo",attrs:{src:"https://i.imgur.com/eLUSUFJ.png",alt:"logo"}})]),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("em",[t._v(t._s(t.users.userLogged.name))])]},proxy:!0}],null,!1,3809713259)},[n("b-dropdown-item",{on:{click:function(e){return t.logout()}}},[t._v("Logout")])],1)],1)],1)],1):t._e()])},a=[],i=n(3019),s=n(4665),d={name:"Navbar",computed:(0,i.Z)((0,i.Z)({},(0,s.rn)(["users",["userLogged"]])),(0,s.Se)(["getUserLogged"])),methods:{logout:function(){localStorage.removeItem("user"),this.$router.push("/")}}},f=d,l=n(1001),p=(0,l.Z)(f,u,a,!1,null,"202c7d78",null),m=p.exports,h={name:"App",components:{Navbar:m}},g=h,v=(0,l.Z)(g,o,c,!1,null,"6bca9c13",null),b=v.exports,w=(n(1539),n(8783),n(3948),n(2809));r["default"].use(w.Z);var y=[{path:"/",name:"Login",component:function(){return n.e(728).then(n.bind(n,728))}},{path:"/index",name:"Usuario",component:function(){return n.e(681).then(n.bind(n,7681))}},{path:"/productos/:id",name:"Producto",component:function(){return n.e(608).then(n.bind(n,608))}},{path:"/register",name:"NuevoUsuario",component:function(){return n.e(910).then(n.bind(n,910))}},{path:"/admin",name:"Admin",component:function(){return n.e(866).then(n.bind(n,5866))}},{path:"/nuevoProducto",name:"NuevoProducto",component:function(){return n.e(136).then(n.bind(n,2136))}},{path:"/editarProducto/:id",name:"EditarProducto",component:function(){return n.e(992).then(n.bind(n,992))}},{path:"/misOrdenes/:id",name:"MisOrdenes",component:function(){return n.e(405).then(n.bind(n,8405))}}],P=new w.Z({mode:"history",base:"/proyecto-final/",routes:y}),k=P,Z=n(6489),x=n(8262),S=n(3266);n(44);r["default"].config.productionTip=!1,r["default"].use(x.XG7),r["default"].use(S.A7),new r["default"]({store:Z.Z,router:k,render:function(t){return t(b)}}).$mount("#app")},6489:function(t,e,n){n.d(e,{Z:function(){return b}});var r=n(8935),o=n(4665),c=n(7965),u=n(7906),a=n(6198),s=(n(561),n(2222),n(6166)),d="https://628c29b5a3fd714fd02da2ca.mockapi.io/api",f={namespaced:!0,state:{products:[],actualProduct:null},getters:{getProducts:function(t){return t.products},getActualProduct:function(t){return t.actualProduct}},mutations:{setProducts:function(t,e){t.products=e},setActualProduct:function(t,e){t.actualProduct=e},setProduct:function(t,e){t.products[e.i]=e.product},deleteProduct:function(t,e){t.products.splice(e,1)},addProduct:function(t,e){t.products.push(e)},addStockProduct:function(t,e){t.products[e.i].stock+=e.stock}},actions:{getProductsFromAPI:function(t){return(0,a.Z)((0,u.Z)().mark((function e(){var n,r;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=null,e.next=4,s.get("".concat(d,"/products")).then((function(t){var e=t.data;return e})).catch((function(t){console.error(t)}));case 4:r=e.sent,null!=r&&n("setProducts",r);case 6:case"end":return e.stop()}}),e)})))()},addProductToAPI:function(t,e){return(0,a.Z)((0,u.Z)().mark((function n(){var r,o;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,o=null,n.next=4,s.post("".concat(d,"/products"),e).then((function(t){var e=t.dza;return e})).catch((function(t){console.error(t)}));case 4:o=n.sent,null!=o&&r("addProduct",e);case 6:case"end":return n.stop()}}),n)})))()},editProductToAPI:function(t,e){return(0,a.Z)((0,u.Z)().mark((function n(){var r,o,c,a,i;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,o=t.state,c=null,n.next=4,s.put("".concat(d,"/products/").concat(e.id),e).then((function(t){var e=t.data;return e})).catch((function(t){console.error(t)}));case 4:if(c=n.sent,null!=c)for(a=0;a<o.products.length;a++)o.products[a].id==e.id&&(i={i:a,product:e},r("setProduct",i));case 6:case"end":return n.stop()}}),n)})))()},deleteProduct:function(t,e){return(0,a.Z)((0,u.Z)().mark((function n(){var r,o,c,a;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,o=t.state,c=null,n.next=4,s.delete("https://628c29b5a3fd714fd02da2ca.mockapi.io/api/products/"+e).then((function(t){var e=t.data;return e})).catch((function(t){console.error(t)}));case 4:if(c=n.sent,null!=c)for(a=0;a<o.products.length;a++)o.products[a].id==e&&r("deleteProduct",a);case 6:case"end":return n.stop()}}),n)})))()},setActualProduct:function(t,e){var n,r=t.commit,o=t.state,u=(0,c.Z)(o.products);try{for(u.s();!(n=u.n()).done;){var a=n.value;a.id==e&&r("setActualProduct",a)}}catch(i){u.e(i)}finally{u.f()}},updateStockProduct:function(t,e){for(var n=t.commit,r=t.state,o=null,c=0;c<r.products.length;c++)r.products[c].id==e.id&&(o={i:c,stock:e.stock});null!=o&&n("addStockProduct",o)}}},l=n(6166),p="https://628c29b5a3fd714fd02da2ca.mockapi.io/api",m={namespaced:!0,state:{users:[],userLogged:{},orders:[]},getters:{getUsers:function(t){return t.users},getUserLogged:function(t){return t.userLogged},getOrders:function(t){return t.orders}},mutations:{setUsers:function(t,e){t.users=e},setUserLogged:function(t,e){t.userLogged=e},setOrders:function(t,e){t.orders=e},setUser:function(t,e){t.users[e.i]=e.user},addUser:function(t,e){t.users.push(e)}},actions:{getUsersFromAPI:function(t){return(0,a.Z)((0,u.Z)().mark((function e(){var n,r;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=null,e.next=4,l.get("".concat(p,"/users")).then((function(t){var e=t.data;return e})).catch((function(t){console.error(t)}));case 4:r=e.sent,null!=r&&n("setUsers",r);case 7:case"end":return e.stop()}}),e)})))()},getOrdersFromAPI:function(t){return(0,a.Z)((0,u.Z)().mark((function e(){var n,r,o;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,o=null,e.next=4,l.get("".concat(p,"/users/").concat(r.userLogged.id,"/orders")).then((function(t){var e=t.data;return e})).catch((function(t){console.error(t)}));case 4:o=e.sent,null!=o&&n("setOrders",o);case 7:case"end":return e.stop()}}),e)})))()},setUserLogged:function(t,e){var n=t.commit;n("setUserLogged",e)},setUser:function(t,e){return(0,a.Z)((0,u.Z)().mark((function n(){var r,o,c;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,o=t.state,c=null,n.next=4,l.put("".concat(p,"/users/").concat(e.id)).then((function(t){var e=t.data;return e})).catch((function(t){console.error(t)}));case 4:if(c=n.sent,null!=c)for(i=0;i<o.users.length;i++)o.users[i].id==e.id&&r("setUser",{i:i,user:e});case 7:case"end":return n.stop()}}),n)})))()},addUser:function(t,e){return(0,a.Z)((0,u.Z)().mark((function n(){var r,o;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,t.state,o=null,n.next=4,l.post("".concat(p,"/users"),e).then((function(t){var e=t.data;return e})).catch((function(t){console.error(t)}));case 4:o=n.sent,null!=o&&r("addUser",e);case 6:case"end":return n.stop()}}),n)})))()}}},h=(n(8862),n(6166)),g="https://628c29b5a3fd714fd02da2ca.mockapi.io/api",v={namespaced:!0,state:{carrito:[]},getters:{getCarrito:function(t){return t.carrito}},mutations:{setCart:function(t,e){t.carrito=e,localStorage.setItem("cart",JSON.stringify(t.carrito))},addProductToCart:function(t,e){t.carrito.push(e),localStorage.setItem("cart",JSON.stringify(t.carrito))},deleteCartProduct:function(t,e){t.carrito.splice(e,1),localStorage.setItem("cart",JSON.stringify(t.carrito))},addAmmount:function(t,e){t.carrito[e.i].stock+=e.ammount,localStorage.setItem("cart",JSON.stringify(t.carrito))}},actions:{setACart:function(t,e){var n=t.commit;n("setCart",e)},addProductToCart:function(t,e){for(var n=t.commit,r=t.state,o=0;o<r.carrito.length;o++)if(r.carrito[o].id==e.id)return void n("addAmmount",{i:o,ammount:e.stock});n("addProductToCart",e)},deleteCartProduct:function(t,e){for(var n=t.commit,r=t.state,o=0;o<r.carrito.length;o++)r.carrito[o].id==e&&n("deleteCartProduct",o)},createOrderToAPI:function(t,e){return(0,a.Z)((0,u.Z)().mark((function n(){var r,o,c;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.state,o=JSON.parse(localStorage.getItem("user")),c={products:r.carrito,datetime:Date("dd/mm/yyyy"),total:e},n.next=5,h.post("".concat(g,"/users/").concat(o.id,"/orders"),c).then((function(t){return t})).catch((function(t){console.error(t)}));case 5:case"end":return n.stop()}}),n)})))()},updateStockAPI:function(t){return(0,a.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h.get("".concat(g,"/products/")+t.id).then((function(e){var n=e.data;n.stock-=t.stock,h.put("".concat(g,"/products/")+n.id,n).then((function(t){return t})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}));case 2:case"end":return e.stop()}}),e)})))()},restartCart:function(t){var e=t.commit;e("setCart",[])}}};r["default"].use(o.ZP);var b=new o.ZP.Store({modules:{products:f,users:m,cart:v}})}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var c=e[r]={exports:{}};return t[r](c,c.exports,n),c.exports}n.m=t,function(){var t=[];n.O=function(e,r,o,c){if(!r){var u=1/0;for(d=0;d<t.length;d++){r=t[d][0],o=t[d][1],c=t[d][2];for(var a=!0,i=0;i<r.length;i++)(!1&c||u>=c)&&Object.keys(n.O).every((function(t){return n.O[t](r[i])}))?r.splice(i--,1):(a=!1,c<u&&(u=c));if(a){t.splice(d--,1);var s=o();void 0!==s&&(e=s)}}return e}c=c||0;for(var d=t.length;d>0&&t[d-1][2]>c;d--)t[d]=t[d-1];t[d]=[r,o,c]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"-legacy."+{136:"d7e41ed1",405:"b7526756",608:"722d81b0",681:"2ecb4ea9",728:"de36f681",866:"d2c62521",910:"2f22aee6",992:"1c29c6eb"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+"."+{136:"f6da0f5c",405:"e0daff50",608:"34780be5",681:"0450e065",728:"38a04440",866:"8bc6c063",910:"a548620c",992:"3d0bb2a9"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="proyecto-final:";n.l=function(r,o,c,u){if(t[r])t[r].push(o);else{var a,i;if(void 0!==c)for(var s=document.getElementsByTagName("script"),d=0;d<s.length;d++){var f=s[d];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==e+c){a=f;break}}a||(i=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+c),a.src=r),t[r]=[o];var l=function(e,n){a.onerror=a.onload=null,clearTimeout(p);var o=t[r];if(delete t[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(t){return t(n)})),e)return e(n)},p=setTimeout(l.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=l.bind(null,a.onerror),a.onload=l.bind(null,a.onload),i&&document.head.appendChild(a)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/proyecto-final/"}(),function(){var t=function(t,e,n,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var c=function(c){if(o.onerror=o.onload=null,"load"===c.type)n();else{var u=c&&("load"===c.type?"missing":c.type),a=c&&c.target&&c.target.href||e,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=u,i.request=a,o.parentNode.removeChild(o),r(i)}};return o.onerror=o.onload=c,o.href=e,document.head.appendChild(o),o},e=function(t,e){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],c=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(c===t||c===e))return o}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){o=u[r],c=o.getAttribute("data-href");if(c===t||c===e)return o}},r=function(r){return new Promise((function(o,c){var u=n.miniCssF(r),a=n.p+u;if(e(u,a))return o();t(r,a,o,c)}))},o={143:0};n.f.miniCss=function(t,e){var n={136:1,405:1,608:1,681:1,728:1,866:1,910:1,992:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=r(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}(),function(){var t={143:0};n.f.j=function(e,r){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)r.push(o[2]);else{var c=new Promise((function(n,r){o=t[e]=[n,r]}));r.push(o[2]=c);var u=n.p+n.u(e),a=new Error,i=function(r){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var c=r&&("load"===r.type?"missing":r.type),u=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+c+": "+u+")",a.name="ChunkLoadError",a.type=c,a.request=u,o[1](a)}};n.l(u,i,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,c,u=r[0],a=r[1],i=r[2],s=0;if(u.some((function(e){return 0!==t[e]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(i)var d=i(n)}for(e&&e(r);s<u.length;s++)c=u[s],n.o(t,c)&&t[c]&&t[c][0](),t[c]=0;return n.O(d)},r=self["webpackChunkproyecto_final"]=self["webpackChunkproyecto_final"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(9039)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.a58f6c58.js.map