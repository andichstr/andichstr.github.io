(function(){"use strict";var t={9039:function(t,e,r){var o=r(8935),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},["/"!=this.$route.path&&"/register"!=this.$route.path?r("div",{attrs:{id:"navbar"}},[r("Navbar")],1):t._e(),r("router-view")],1)},a=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[1==t.users.userLogged.rol?r("div",[r("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[r("b-navbar-brand",[r("img",{staticClass:"logo",attrs:{src:"https://i.imgur.com/eLUSUFJ.png",alt:"logo"}})]),r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("em",[t._v(t._s(t.users.userLogged.name))])]},proxy:!0}],null,!1,3809713259)},[r("b-dropdown-item",[r("router-link",{attrs:{to:{name:"MisOrdenes",params:{id:t.users.userLogged.id}}}},[r("span",[t._v(" Mis Ordenes ")])])],1),r("b-dropdown-item",{on:{click:function(e){return t.logout()}}},[t._v("Logout")])],1)],1)],1)],1):t._e(),99==t.users.userLogged.rol?r("div",[r("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[r("b-navbar-brand",{attrs:{href:"#"}},[r("img",{staticClass:"logo",attrs:{src:"https://i.imgur.com/eLUSUFJ.png",alt:"logo"}})]),r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("em",[t._v(t._s(t.users.userLogged.name))])]},proxy:!0}],null,!1,3809713259)},[r("b-dropdown-item",{on:{click:function(e){return t.logout()}}},[t._v("Logout")])],1)],1)],1)],1):t._e()])},c=[],u=r(4665),i={name:"Navbar",computed:{...(0,u.rn)(["users",["userLogged"]]),...(0,u.Se)(["getUserLogged"])},methods:{logout(){localStorage.removeItem("user"),this.$router.push("/")}}},d=i,l=r(1001),f=(0,l.Z)(d,s,c,!1,null,"202c7d78",null),p=f.exports,m={name:"App",components:{Navbar:p}},g=m,h=(0,l.Z)(g,n,a,!1,null,"6bca9c13",null),v=h.exports,b=r(2809);o["default"].use(b.Z);const y=[{path:"/",name:"Login",component:()=>r.e(728).then(r.bind(r,728))},{path:"/index",name:"Usuario",component:()=>r.e(681).then(r.bind(r,7681))},{path:"/productos/:id",name:"Producto",component:()=>r.e(608).then(r.bind(r,608))},{path:"/register",name:"NuevoUsuario",component:()=>r.e(910).then(r.bind(r,910))},{path:"/admin",name:"Admin",component:()=>r.e(866).then(r.bind(r,5866))},{path:"/nuevoProducto",name:"NuevoProducto",component:()=>r.e(136).then(r.bind(r,2136))},{path:"/editarProducto/:id",name:"EditarProducto",component:()=>r.e(992).then(r.bind(r,992))},{path:"/misOrdenes/:id",name:"MisOrdenes",component:()=>r.e(405).then(r.bind(r,8405))}],P=new b.Z({mode:"history",base:"/proyecto-final/",routes:y});var k=P,w=r(6489),S=r(8262),C=r(3266);r(44);o["default"].config.productionTip=!1,o["default"].use(S.XG7),o["default"].use(C.A7),new o["default"]({store:w.Z,router:k,render:t=>t(v)}).$mount("#app")},6489:function(t,e,r){r.d(e,{Z:function(){return g}});var o=r(8935),n=r(4665);const a=r(6166),s="https://628c29b5a3fd714fd02da2ca.mockapi.io/api";var c={namespaced:!0,state:{products:[],actualProduct:null},getters:{getProducts(t){return t.products},getActualProduct(t){return t.actualProduct}},mutations:{setProducts(t,e){t.products=e},setActualProduct(t,e){t.actualProduct=e},setProduct(t,e){t.products[e.i]=e.product},deleteProduct(t,e){t.products.splice(e,1)},addProduct(t,e){t.products.push(e)},addStockProduct(t,e){t.products[e.i].stock+=e.stock}},actions:{async getProductsFromAPI({commit:t}){let e=null;e=await a.get(`${s}/products`).then((t=>{let e=t.data;return e})).catch((t=>{console.error(t)})),null!=e&&t("setProducts",e)},async addProductToAPI({commit:t},e){let r=null;r=await a.post(`${s}/products`,e).then((t=>{let e=t.dza;return e})).catch((t=>{console.error(t)})),null!=r&&t("addProduct",e)},async editProductToAPI({commit:t,state:e},r){let o=null;if(o=await a.put(`${s}/products/${r.id}`,r).then((t=>{let e=t.data;return e})).catch((t=>{console.error(t)})),null!=o)for(let n=0;n<e.products.length;n++)if(e.products[n].id==r.id){const e={i:n,product:r};t("setProduct",e)}},async deleteProduct({commit:t,state:e},r){let o=null;if(o=await a.delete("https://628c29b5a3fd714fd02da2ca.mockapi.io/api/products/"+r).then((t=>{let e=t.data;return e})).catch((t=>{console.error(t)})),null!=o)for(let n=0;n<e.products.length;n++)e.products[n].id==r&&t("deleteProduct",n)},setActualProduct({commit:t,state:e},r){for(const o of e.products)o.id==r&&t("setActualProduct",o)},updateStockProduct({commit:t,state:e},r){let o=null;for(let n=0;n<e.products.length;n++)e.products[n].id==r.id&&(o={i:n,stock:r.stock});null!=o&&t("addStockProduct",o)}}};const u=r(6166),d="https://628c29b5a3fd714fd02da2ca.mockapi.io/api";var l={namespaced:!0,state:{users:[],userLogged:{},orders:[]},getters:{getUsers(t){return t.users},getUserLogged(t){return t.userLogged},getOrders(t){return t.orders}},mutations:{setUsers(t,e){t.users=e},setUserLogged(t,e){t.userLogged=e},setOrders(t,e){t.orders=e},setUser(t,e){t.users[e.i]=e.user},addUser(t,e){t.users.push(e)}},actions:{async getUsersFromAPI({commit:t}){let e=null;e=await u.get(`${d}/users`).then((t=>{let e=t.data;return e})).catch((t=>{console.error(t)})),null!=e&&t("setUsers",e)},async getOrdersFromAPI({commit:t,state:e}){let r=null;r=await u.get(`${d}/users/${e.userLogged.id}/orders`).then((t=>{let e=t.data;return e})).catch((t=>{console.error(t)})),null!=r&&t("setOrders",r)},setUserLogged({commit:t},e){t("setUserLogged",e)},async setUser({commit:t,state:e},r){let o=null;if(o=await u.put(`${d}/users/${r.id}`).then((t=>{let e=t.data;return e})).catch((t=>{console.error(t)})),null!=o)for(i=0;i<e.users.length;i++)e.users[i].id==r.id&&t("setUser",{i:i,user:r})},async addUser({commit:t,state:e},r){let o=null;o=await u.post(`${d}/users`,r).then((t=>{let e=t.data;return e})).catch((t=>{console.error(t)})),null!=o&&t("addUser",r)}}};const f=r(6166),p="https://628c29b5a3fd714fd02da2ca.mockapi.io/api";var m={namespaced:!0,state:{carrito:[]},getters:{getCarrito(t){return t.carrito}},mutations:{setCart(t,e){t.carrito=e,localStorage.setItem("cart",JSON.stringify(t.carrito))},addProductToCart(t,e){t.carrito.push(e),localStorage.setItem("cart",JSON.stringify(t.carrito))},deleteCartProduct(t,e){t.carrito.splice(e,1),localStorage.setItem("cart",JSON.stringify(t.carrito))},addAmmount(t,e){t.carrito[e.i].stock+=e.ammount,localStorage.setItem("cart",JSON.stringify(t.carrito))}},actions:{setACart({commit:t},e){t("setCart",e)},addProductToCart({commit:t,state:e},r){for(let o=0;o<e.carrito.length;o++)if(e.carrito[o].id==r.id)return void t("addAmmount",{i:o,ammount:r.stock});t("addProductToCart",r)},deleteCartProduct({commit:t,state:e},r){for(let o=0;o<e.carrito.length;o++)e.carrito[o].id==r&&t("deleteCartProduct",o)},async createOrderToAPI({state:t},e){let r=JSON.parse(localStorage.getItem("user")),o={products:t.carrito,datetime:Date("dd/mm/yyyy"),total:e};await f.post(`${p}/users/${r.id}/orders`,o).then((t=>t)).catch((t=>{console.error(t)}))},async updateStockAPI(t){await f.get(`${p}/products/`+t.id).then((e=>{let r=e.data;r.stock-=t.stock,f.put(`${p}/products/`+r.id,r).then((t=>t)).catch((t=>{console.error(t)}))})).catch((t=>{console.error(t)}))},restartCart({commit:t}){t("setCart",[])}}};o["default"].use(n.ZP);var g=new n.ZP.Store({modules:{products:c,users:l,cart:m}})}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,o,n,a){if(!o){var s=1/0;for(d=0;d<t.length;d++){o=t[d][0],n=t[d][1],a=t[d][2];for(var c=!0,u=0;u<o.length;u++)(!1&a||s>=a)&&Object.keys(r.O).every((function(t){return r.O[t](o[u])}))?o.splice(u--,1):(c=!1,a<s&&(s=a));if(c){t.splice(d--,1);var i=n();void 0!==i&&(e=i)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[o,n,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,o){return r.f[o](t,e),e}),[]))}}(),function(){r.u=function(t){return"js/"+t+"."+{136:"5b937c91",405:"61f11474",608:"168af964",681:"5356a115",728:"7a5f34a0",866:"4c5f92ce",910:"17a1f7b2",992:"a0df4588"}[t]+".js"}}(),function(){r.miniCssF=function(t){return"css/"+t+"."+{136:"f6da0f5c",405:"e0daff50",608:"34780be5",681:"0450e065",728:"38a04440",866:"8bc6c063",910:"a548620c",992:"3d0bb2a9"}[t]+".css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="proyecto-final:";r.l=function(o,n,a,s){if(t[o])t[o].push(n);else{var c,u;if(void 0!==a)for(var i=document.getElementsByTagName("script"),d=0;d<i.length;d++){var l=i[d];if(l.getAttribute("src")==o||l.getAttribute("data-webpack")==e+a){c=l;break}}c||(u=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.setAttribute("data-webpack",e+a),c.src=o),t[o]=[n];var f=function(e,r){c.onerror=c.onload=null,clearTimeout(p);var n=t[o];if(delete t[o],c.parentNode&&c.parentNode.removeChild(c),n&&n.forEach((function(t){return t(r)})),e)return e(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=f.bind(null,c.onerror),c.onload=f.bind(null,c.onload),u&&document.head.appendChild(c)}}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.p="/proyecto-final/"}(),function(){var t=function(t,e,r,o){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var a=function(a){if(n.onerror=n.onload=null,"load"===a.type)r();else{var s=a&&("load"===a.type?"missing":a.type),c=a&&a.target&&a.target.href||e,u=new Error("Loading CSS chunk "+t+" failed.\n("+c+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=s,u.request=c,n.parentNode.removeChild(n),o(u)}};return n.onerror=n.onload=a,n.href=e,document.head.appendChild(n),n},e=function(t,e){for(var r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var n=r[o],a=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(a===t||a===e))return n}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){n=s[o],a=n.getAttribute("data-href");if(a===t||a===e)return n}},o=function(o){return new Promise((function(n,a){var s=r.miniCssF(o),c=r.p+s;if(e(s,c))return n();t(o,c,n,a)}))},n={143:0};r.f.miniCss=function(t,e){var r={136:1,405:1,608:1,681:1,728:1,866:1,910:1,992:1};n[t]?e.push(n[t]):0!==n[t]&&r[t]&&e.push(n[t]=o(t).then((function(){n[t]=0}),(function(e){throw delete n[t],e})))}}(),function(){var t={143:0};r.f.j=function(e,o){var n=r.o(t,e)?t[e]:void 0;if(0!==n)if(n)o.push(n[2]);else{var a=new Promise((function(r,o){n=t[e]=[r,o]}));o.push(n[2]=a);var s=r.p+r.u(e),c=new Error,u=function(o){if(r.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",c.name="ChunkLoadError",c.type=a,c.request=s,n[1](c)}};r.l(s,u,"chunk-"+e,e)}},r.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,a,s=o[0],c=o[1],u=o[2],i=0;if(s.some((function(e){return 0!==t[e]}))){for(n in c)r.o(c,n)&&(r.m[n]=c[n]);if(u)var d=u(r)}for(e&&e(o);i<s.length;i++)a=s[i],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(d)},o=self["webpackChunkproyecto_final"]=self["webpackChunkproyecto_final"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(9039)}));o=r.O(o)})();
//# sourceMappingURL=app.26b31705.js.map